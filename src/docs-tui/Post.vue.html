

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: Post.vue | Source: Post.vue</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="">
        
            <img src="img/toast-ui.png" width="100%" height="100%">
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">Source: Post.vue</a></h1>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
    <div class="lnb-api hidden"><h3>Modules</h3><ul><li><a href="module-apex-com-subscriber.html">apex-com-subscriber</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:apex-com-subscriber_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-apex-com-subscriber.html#blockUser">blockUser</a></li></ul></div></li><li><a href="module-LoginModal.html">LoginModal</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:LoginModal_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-LoginModal.html#post">post</a></li></ul></div></li><li><a href="module-NavBar.html">NavBar</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:NavBar_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-NavBar.html#conditionalShow">conditionalShow</a></li><li><a href="module-NavBar.html#Logout">Logout</a></li></ul></div></li><li><a href="module-Post.html">Post</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Post_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Post.html#changeColor_down">changeColor_down</a></li><li><a href="module-Post.html#changeColor_up">changeColor_up</a></li><li><a href="module-Post.html#deletePost">deletePost</a></li><li><a href="module-Post.html#Hide">Hide</a></li><li><a href="module-Post.html#Save">Save</a></li><li><a href="module-Post.html#ShowModal">ShowModal</a></li></ul></div></li><li><a href="module-SignUp2Modal.html">SignUp2Modal</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:SignUp2Modal_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-SignUp2Modal.html#.computed">computed</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-SignUp2Modal.html#post">post</a></li></ul></div></li><li><a href="module-SignUp3Modal.html">SignUp3Modal</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:SignUp3Modal_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-SignUp3Modal.html#.methods">methods</a></li></ul></div></li><li><a href="module-SignUpModal.html">SignUpModal</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:SignUpModal_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-SignUpModal.html#checkEmail">checkEmail</a></li><li><a href="module-SignUpModal.html#validateEmail">validateEmail</a></li></ul></div></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>&lt;template>
  &lt;div>
    {{ counter }}
  &lt;/div>
&lt;/template>

&lt;script>
/**
 * @vue-data {string} [Save="Save"] Save value
 * @vue-data {boolean} [Not_Hide=true]    check if post not hide
 * @vue-data {boolean} [is_Hide=false]    check if post is hide
 * @vue-data {boolean} [pressed_up=false]  check pressed uparrow
 * @vue-data {boolean} [pressed_down=false]  check pressed downarrow
 * @vue-data {integer} [votes=0] votes
 * @vue-data {boolean} [Deleted=false] check deleted Post
 * @vue-data {JWT} [token=''] userID
 * @vue-data  {string} [PostId=''] postID
 * @vue-data  {boolean} [moderator=false] check if the user is moderator
 * @vue-data  {boolean} [Deleted=false] check if the post is Deleted
 */
export default {
  name: 'PostItem',
  data() {
    return {

            Not_Hide :true,
            is_Hide  :false,

            className_up   : 'btn btn-light btn-sm is-gray',
            className_down : 'btn btn-light btn-sm is-gray',

            pressed_up   : false,
            pressed_down : false,
            votes  :0,
            Saved  :"Save",
            PostId   :"",
            moderator:false,
            ShowModalVar:true,
            Deleted:false
    };
  },
  mounted() {
    this.interval = setInterval(() => this.increment(), 1000);
  },
  beforeDestroy() {
    clearInterval(this.interval);
  },
  methods: {
    /**
     * delete post if the moderator press delete button.
     */
    deletePost() {
      if(this.ShowModalVar == true){
            this.ToggleShowModalVar();
          }
            axios.post("http://localhost/DelComment",{
            ID    : this.PostId,
            token : this.token

    }).then(response=>{
      if(response){
        this.Deleted = true;
        alert("Deleted successfully");
      }

    }).catch(function (error)
    {
     console.log(error);


      });
    }
   ,
   /**
    * Hide post if the User press Hide button.
    */
   Hide(){
     if(this.ShowModalVar == true){
             this.ToggleShowModalVar();
             }
            if(this.Not_Hide)
                {
                this.Not_Hide=false;
                this.is_Hide=true;
                alert("Post hidden successfully.")

                }

            axios.post("http://localhost/Hide",
            {
                name    : this.PostId,
                ID : this.token

            }).then(response => {
              if(response){
              alert("Hidden successfully");}
            }).catch(function (error)
            {
               console.log(error);
            });

   },
   /**
    * Save post if the User press Hide button.
    */
   Save(){
     if(this.ShowModalVar == true){
         this.ToggleShowModalVar();
       }
           if(this.Saved=="Save")
           {
           //alert('Post saved successfully');
           this.Saved="unsave";
           axios.post( "http://localhost/save",
           {

               ID:this.PostId ,
               token:this.token


           }).then(response=>{
             if(response){
               alert('Post saved successfully');
             }
           } ).catch(function (error)
           {
                console.log(error);

           });
         }
           else{
             axios.post( "http://localhost/save",
             {

                 ID:this.PostId ,
                 token:this.token


             }).then(response=>{
               if(response){
                 alert('Post unsaved successfully');
               }
             } ).catch(function (error)
             {
                  console.log(error);

             });
                //alert('Post unsaved successfully');
               this.Saved="Save";

              }


   },
   /**
    * change color of the uparrow when the user press it and increase votes by one .
    */
  changeColor_up(){
    if(this.ShowModalVar == true){
          this.ToggleShowModalVar();
        }
              if(!this.pressed_up)
              {
                          if(this.pressed_down)
                          {
                          this.votes         += 1;
                          this.pressed_down   = false;
                          this.className_down = 'btn btn-light btn-sm is-gray';

                          }

                          this.className_up    = 'btn btn-light btn-sm is-red';
                          this.pressed_up      =true;

                          this.votes          += 1;
                          axios.post("http://localhost/vote",
                          {

                            ID       : this.token,
                            name     : this.PostId,
                            direction:1

                          }).then(response => {
                            if(response){
                               alert("upvote successfully");}

                          }).catch(function (error)
                          {
                        console.log(error);

                      });
                    }
                  else {
                        this.className_up = 'btn btn-light btn-sm is-gray';
                        this.votes     -= 1;
                        this.pressed_up = false;
                        axios.post("http://localhost/vote",
                       {


                        ID:this.token,
                        name:this.PostId,
                        direction:0

                      }).then(response => {}).catch(function (error)
                      {
                       console.log(error);
                     });
                   }


  },
  /**
   * change color of the downarrow when the user press it and decrease votes by one .
   */
  changeColor_down(){
    if(this.ShowModalVar == true){
           this.ToggleShowModalVar();
         }
                      if(!this.pressed_down)
                      {
                          if(this.pressed_up)
                          {
                              this.votes-=1;
                              this.pressed_up=false;
                              this.className_up = 'btn btn-light btn-sm is-gray';

                          }
                             this.className_down = 'btn btn-light btn-sm is-blue';
                             this.pressed_down=true;

                             this.votes-=1;
                             axios.post("http://localhost/vote",
                         {


                              ID      : this.token,
                              name    : this.PostId,
                              direction: -1

                         }).then(response =>{
                           if(response){
                             alert("downvote successfully");
                           }
                         }).catch(function (error)
                         {
                          console.log(error);

                        });
                      }
                  else {
                      this.className_down = 'btn btn-light btn-sm is-gray';


                       this.votes += 1;
                       this.pressed_down = false;
                       axios.post("http://localhost/vote",
                       {


                        ID:this.token,
                        name:this.PostId,
                        direction:0

                      }).then(response => {}).catch(function (error) {
                         console.log(error);
                       });


                     }


  },
  /**
   * this function show the model of all posts  .
   */
  ShowModal(){
        if(this.ShowModalVar == true){
          // alert('1111')
          // globalStore.oneposttest=this.postdata3;
          this.$emit('showUp',this.postdata);
          // alert('222')
          this.$modal.show('Demo-OnePost');
        }
          else {
            this.ToggleShowModalVar();
          }


      }
  }
};
&lt;/script>
</code></pre>
        </article>
    </section>




</div>

<footer>
    <img class="logo" src="img/toast-ui.png" style="">
    <div class="footer-text">NHN Entertainment. Frontend Development Lab</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = '_sub'.replace(/"/g, '_');
        var selectedApi = document.getElementById(id); // do not use jquery selector
        var $selectedApi = $(selectedApi);

        $selectedApi.removeClass('hidden');
        $selectedApi.parent().find('.glyphicon').removeClass('glyphicon-plus').addClass('glyphicon-minus');
        showLnbApi();
    </script>

</body>
</html>
